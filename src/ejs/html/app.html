<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<style>
			body {
				/*background: white;*/
				background: rgb(30, 30, 30);
				padding: 0;
				margin: 0;
				font-family: sans-serif;
			}

			a {
				text-decoration: none;
			}
			a:visited {
				color: inherit;
			}

			template {
				display: none;
			}

			/* TODO: use jss for runtime styles. */
			a.hash {
				color: #800;
			}
		</style>
		<link type="text/css" href="/code.css" />
	</head>
	<body>
		<script type="template" id="content">
			<% dox.comments.forEach(function(comment) { %>
			    <% if (!comment.ignore) { %>

			        <% // TODO: ignore dox that don't have a ctx. %>
			        <div>
			            <h1 id="<%= (comment.ctx? comment.ctx.name: comment.ctx) %>">
			                <a class="hash" href="#<%= (comment.ctx? comment.ctx.name: comment.ctx) %>"># </a>
			                <%- (comment.ctx? comment.ctx.name: comment.ctx) %>
			            </h1>

			            <%- comment.description.full %>

			            <pre><code class="javascript"><%= comment.code %></code></pre>
			        </div>

			    <% } %>
			<% }) %>
		</script>

		<script>
			// place this in a json file next to the template instead of inline here?
			window.dox = <%- JSON.stringify(dox) %>
		</script>

		<script src="/app.js"></script>
	</body>
</html>
